<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lumen ‚Äì Teljes protot√≠pus</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #fef6e4, #f2e8c9);
      color: #2e2e2e;
      text-align: center;
      padding: 2rem 1rem;
    }
    h1 {
      font-size: 1.6rem;
      margin-bottom: 1rem;
    }
    .question {
      font-size: 1.2rem;
      margin: 1rem auto 2rem;
      max-width: 600px;
    }
    button {
      margin: 0.5rem;
      padding: 0.6rem 1.4rem;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background-color: #d4b483;
      color: white;
      cursor: pointer;
    }
    .journal, .presence {
      margin-top: 2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    textarea {
      width: 100%;
      height: 120px;
      margin-top: 1rem;
      font-size: 1rem;
      padding: 0.6rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      resize: none;
    }
    .past-entries {
      text-align: left;
      margin-top: 2rem;
    }
    .past-entries h3 {
      margin-bottom: 0.5rem;
    }
    .entry {
      background-color: #fffaf0;
      border-left: 4px solid #d4b483;
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
    }
  </style>
</head>
<body>
  <h1>Lumen ‚Äì Bels≈ë vil√°goss√°g</h1>
  <div class="question" id="question">Bet√∂lt√©s...</div>
  <button onclick="showJournal()">Elmondom</button>
  <button onclick="showPresence()">Csendben maradok</button>

  <div class="journal" id="journal" style="display:none;">
    <textarea id="userInput" placeholder="√çrd le, amit most √©rzel..."></textarea>
    <br>
    <button onclick="saveEntry()">Ment√©s</button>
    <button onclick="exportEntries()">Let√∂lt√©s napl√≥k√©nt</button>
  </div>

  <div class="presence" id="presence" style="display:none;">
    <p>L√©legezz... jelen vagyunk.</p>
    <p id="presenceTimer">03:00</p>
    <button onclick="document.getElementById('calmAudio').play()">Hang bekapcsol√°sa üîà</button>
    <audio id="calmAudio" loop>
      <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
      A b√∂ng√©sz≈ëd nem t√°mogatja az audio lej√°tsz√°st.
    </audio>
  </div>

  <div class="past-entries" id="entries" style="display:none;">
    <h3>Kor√°bbi bejegyz√©sek</h3>
    <div id="entryList"></div>
  </div>

  <script>
    const questions = ["Mi az, amit ma elengedn√©l, ha nem f√©ln√©l?",
"Milyen √©rz√©s van most benned, amire szeretn√©l r√°n√©zni?",
"Kinek bocs√°tan√°l meg, ha meghallan√°d a sz√≠v√©t?",
"Mi az, amit r√©g√≥ta cipelsz, de nem a ti√©d?",
"Ha ma √∫jrakezdhetn√©l valamit, mi lenne az?",
"Mit mondan√°l √∂nmagadnak gyerekk√©nt?",
"Melyik √©rz√©s k√©r most benned figyelmet?",
"Mikor volt√°l utolj√°ra igaz√°n jelen?",
"Mi az, amit nem mondt√°l ki, de benned √©l?",
"Mi adna ma egy pillanatnyi b√©k√©t?",
"Mi az, amit ma nem kell eld√∂ntened?",
"Ha most csend lenne benned, mit hallan√°l?",
"Mi lenne, ha nem sietn√©l semerre ma?",
"Mi az a sz√≥, amit ma szeretn√©l meghallani?",
"Mit mondana most a lelked, ha k√©rdezhetn√©d?",
"Mi gy√≥gy√≠t benned csendben, √©szrev√©tlen√ºl?",
"Melyik f√©nyforr√°st hanyagoltad el magadban?",
"Mi lenne, ha most nem akarn√°l jobb lenni, csak jelen?",
"Mit rejt most a csend benned?",
"Mihez lenne most b√°tors√°god, ha nem f√©ln√©l a hib√°t√≥l?",
"K√©rd√©s 21",
"K√©rd√©s 22",
"K√©rd√©s 23",
"K√©rd√©s 24",
"K√©rd√©s 25",
"K√©rd√©s 26",
"K√©rd√©s 27",
"K√©rd√©s 28",
"K√©rd√©s 29",
"K√©rd√©s 30",
"K√©rd√©s 31",
"K√©rd√©s 32",
"K√©rd√©s 33",
"K√©rd√©s 34",
"K√©rd√©s 35",
"K√©rd√©s 36",
"K√©rd√©s 37",
"K√©rd√©s 38",
"K√©rd√©s 39",
"K√©rd√©s 40",
"K√©rd√©s 41",
"K√©rd√©s 42",
"K√©rd√©s 43",
"K√©rd√©s 44",
"K√©rd√©s 45",
"K√©rd√©s 46",
"K√©rd√©s 47",
"K√©rd√©s 48",
"K√©rd√©s 49",
"K√©rd√©s 50",
"K√©rd√©s 51",
"K√©rd√©s 52",
"K√©rd√©s 53",
"K√©rd√©s 54",
"K√©rd√©s 55",
"K√©rd√©s 56",
"K√©rd√©s 57",
"K√©rd√©s 58",
"K√©rd√©s 59",
"K√©rd√©s 60",
"K√©rd√©s 61",
"K√©rd√©s 62",
"K√©rd√©s 63",
"K√©rd√©s 64",
"K√©rd√©s 65",
"K√©rd√©s 66",
"K√©rd√©s 67",
"K√©rd√©s 68",
"K√©rd√©s 69",
"K√©rd√©s 70",
"K√©rd√©s 71",
"K√©rd√©s 72",
"K√©rd√©s 73",
"K√©rd√©s 74",
"K√©rd√©s 75",
"K√©rd√©s 76",
"K√©rd√©s 77",
"K√©rd√©s 78",
"K√©rd√©s 79",
"K√©rd√©s 80",
"K√©rd√©s 81",
"K√©rd√©s 82",
"K√©rd√©s 83",
"K√©rd√©s 84",
"K√©rd√©s 85",
"K√©rd√©s 86",
"K√©rd√©s 87",
"K√©rd√©s 88",
"K√©rd√©s 89",
"K√©rd√©s 90",
"K√©rd√©s 91",
"K√©rd√©s 92",
"K√©rd√©s 93",
"K√©rd√©s 94",
"K√©rd√©s 95",
"K√©rd√©s 96",
"K√©rd√©s 97",
"K√©rd√©s 98",
"K√©rd√©s 99",
"K√©rd√©s 100"];
    const questionEl = document.getElementById("question");
    questionEl.textContent = questions[Math.floor(Math.random() * questions.length)];

    function showJournal() {
      document.getElementById("journal").style.display = "block";
      document.getElementById("presence").style.display = "none";
      document.getElementById("entries").style.display = "block";
      document.getElementById("calmAudio").pause();
      loadEntries();
    }

    function showPresence() {
      document.getElementById("journal").style.display = "none";
      document.getElementById("presence").style.display = "block";
      document.getElementById("entries").style.display = "none";
      document.getElementById("calmAudio").currentTime = 0;
      document.getElementById("calmAudio").play();
      startTimer(180);
    }

    function saveEntry() {
      const val = document.getElementById("userInput").value.trim();
      if (val) {
        const stored = JSON.parse(localStorage.getItem("lumen_journal") || "[]");
        stored.unshift({ text: val, date: new Date().toLocaleString() });
        localStorage.setItem("lumen_journal", JSON.stringify(stored));
        document.getElementById("userInput").value = "";
        loadEntries();
      }
    }

    function loadEntries() {
      const stored = JSON.parse(localStorage.getItem("lumen_journal") || "[]");
      const list = document.getElementById("entryList");
      list.innerHTML = "";
      stored.forEach(entry => {
        const div = document.createElement("div");
        div.className = "entry";
        div.innerHTML = `<strong>$\{entry.date}</strong><br>$\{entry.text}`;
        list.appendChild(div);
      });
    }

    function exportEntries() {
      const stored = JSON.parse(localStorage.getItem("lumen_journal") || "[]");
      let content = "LUMEN ‚Äì BELS≈ê NAPL√ì\n\n";
      stored.forEach(entry => {
        content += `$\{entry.date}\n$\{entry.text}\n\n`;
      });
      const blob = new Blob([content], { type: "text/plain" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "lumen_naplo.txt";
      a.click();
    }

    function startTimer(duration) {
      let time = duration;
      const timerDisplay = document.getElementById("presenceTimer");
      const interval = setInterval(() => {
        const mins = Math.floor(time / 60);
        const secs = time % 60;
        timerDisplay.textContent = `$\{String(mins).padStart(2, "0")}:$\{String(secs).padStart(2, "0")}`;
        if (--time < 0) {
          clearInterval(interval);
          document.getElementById("calmAudio").pause();
        }
      }, 1000);
    }
  </script>
</body>
</html>
